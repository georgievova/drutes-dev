\section{printtools Module Reference}
\label{namespaceprinttools}\index{printtools@{printtools}}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine, public {\bf progressbar} (j)
\begin{DoxyCompactList}\small\item\em if default output is stdout, then this procedure prints nice progress bar \end{DoxyCompactList}\item 
subroutine, public {\bf printtime} (message, t)
\item 
subroutine, public {\bf time2finish} ()
\end{DoxyCompactItemize}


\subsection{Function/\+Subroutine Documentation}
\index{printtools@{printtools}!printtime@{printtime}}
\index{printtime@{printtime}!printtools@{printtools}}
\subsubsection[{printtime(message, t)}]{\setlength{\rightskip}{0pt plus 5cm}subroutine, public printtools\+::printtime (
\begin{DoxyParamCaption}
\item[{character(len=$\ast$), intent(in)}]{message, }
\item[{real(4), intent(in)}]{t}
\end{DoxyParamCaption}
)}\label{namespaceprinttools_a7f7f505eb110ff0f4d983bb8f0f968b2}


Definition at line 52 of file printtools.\+f90.



References globals\+::terminal.



Referenced by schwarz\+\_\+dd\+::schwarz\+\_\+picard(), schwarz\+\_\+dd\+\_\+time\+\_\+test\+::schwarzloc(), and subcycling\+::subcyc\+\_\+schwarz().


\begin{DoxyCode}
52       \textcolor{keywordtype}{use }globals
53       \textcolor{keywordtype}{character(len=*)}, \textcolor{keywordtype}{intent(in)} :: message
54       \textcolor{keywordtype}{real(4)}, \textcolor{keywordtype}{intent(in)} :: t
55       
56       \textcolor{keywordflow}{select case} (int(t))
57         \textcolor{keywordflow}{case} (0:60)   
58           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) trim(message), t, \textcolor{stringliteral}{" s"}
59         \textcolor{keywordflow}{case} (61:3600)
60           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) trim(message), t/60, \textcolor{stringliteral}{" min"}
61         \textcolor{keywordflow}{case} (3601:86400)
62           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) trim(message), t/3600, \textcolor{stringliteral}{" hrs"}
63         \textcolor{keywordflow}{case} (86401:2592000)
64           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) trim(message), t/86400, \textcolor{stringliteral}{" days"}
65         \textcolor{keywordflow}{case} (2592001:31536000) 
66           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) trim(message), t/2592000, \textcolor{stringliteral}{" months"}
67 \textcolor{keywordflow}{        case default}
68           \textcolor{keyword}{write}(unit=terminal, fmt=* ) trim(message), t/31536000, \textcolor{stringliteral}{" "} //achar(2\textcolor{comment}{7)//}\textcolor{stringliteral}{'[91m'}\textcolor{comment}{,  }\textcolor{stringliteral}{" YEARS
       !!!!...:)"}\textcolor{comment}{ &}
69 \textcolor{comment}{                                                //achar(27)//}\textcolor{stringliteral}{'[0m'}                  
70 \textcolor{keywordflow}{      end select}
71       
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceprinttools_a7f7f505eb110ff0f4d983bb8f0f968b2_icgraph}
\end{center}
\end{figure}


\index{printtools@{printtools}!progressbar@{progressbar}}
\index{progressbar@{progressbar}!printtools@{printtools}}
\subsubsection[{progressbar(j)}]{\setlength{\rightskip}{0pt plus 5cm}subroutine, public printtools\+::progressbar (
\begin{DoxyParamCaption}
\item[{integer, intent(in)}]{j}
\end{DoxyParamCaption}
)}\label{namespaceprinttools_ac71e43f1627ed0239558720411181068}


if default output is stdout, then this procedure prints nice progress bar 



Definition at line 10 of file printtools.\+f90.



References globals\+::terminal.



Referenced by dual\+\_\+tab\+::dual\+\_\+tabvalues(), feminittools\+::feminit(), geom\+\_\+tools\+::find\+\_\+neighbours(), decomposer\+::init\+\_\+decomp(), re\+\_\+constitutive\+::init\+\_\+zones(), schwarz\+\_\+dd\+::schwarz\+\_\+picard(), schwarz\+\_\+dd\+\_\+time\+\_\+test\+::schwarzloc(), and re\+\_\+constitutive\+::tabvalues().


\begin{DoxyCode}
10       \textcolor{keywordtype}{use }globals
11   
12       \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: j
13 \textcolor{comment}{!       character(len=*), intent(in), optional :: text}
14       \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{save} :: print\_pos
15       \textcolor{keywordtype}{integer} :: k  
16       \textcolor{keywordtype}{character(len=62)}:: bar
17 
18       \textcolor{keywordflow}{if} (j < 1) \textcolor{keywordflow}{then}
19         print\_pos = -1
20 \textcolor{keywordflow}{      end if}
21 
22 
23       \textcolor{keywordflow}{if} (terminal == 6) \textcolor{keywordflow}{then}
24         \textcolor{keywordflow}{if} (j > print\_pos) \textcolor{keywordflow}{then}
25           bar=\textcolor{stringliteral}{"???% |                                                  |"}  
26           \textcolor{keyword}{write}(unit=bar(1:3),fmt=\textcolor{stringliteral}{"(i3)"}) j  
27           \textcolor{keywordflow}{do} k=1, nint(j/2.0)  
28             bar(6+k:6+k)=\textcolor{stringliteral}{"*"}  
29 \textcolor{keywordflow}{          end do}  
30           \textcolor{comment}{! print the progress bar.  }
31 \textcolor{comment}{!         if (present(text) ) then}
32 \textcolor{comment}{!           write(unit=terminal,fmt="(a, a,a1,a63)", advance="no") "  ", "neco", "+",char(13), bar }
33 \textcolor{comment}{!         else}
34             \textcolor{keyword}{write}(unit=terminal,fmt=\textcolor{stringliteral}{"(a1,a1,a63)"}, advance=\textcolor{stringliteral}{"no"}) \textcolor{stringliteral}{"+"},char(13), bar\textcolor{comment}{  }
35 \textcolor{comment}{!         end if}
36             
37           \textcolor{keyword}{call }flush(terminal)
38           print\_pos = print\_pos + 1
39           \textcolor{keywordflow}{if} (j>= 100) \textcolor{keywordflow}{then}
40             \textcolor{keyword}{write}(unit=terminal, fmt=*) \textcolor{stringliteral}{"  "}
41             print\_pos = 0
42 \textcolor{keywordflow}{          end if}
43 \textcolor{keywordflow}{        end if}
44         \textcolor{keywordflow}{return}
45       \textcolor{keywordflow}{else}
46         \textcolor{keywordflow}{return}
47 \textcolor{keywordflow}{      end if}
48 
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceprinttools_ac71e43f1627ed0239558720411181068_icgraph}
\end{center}
\end{figure}


\index{printtools@{printtools}!time2finish@{time2finish}}
\index{time2finish@{time2finish}!printtools@{printtools}}
\subsubsection[{time2finish()}]{\setlength{\rightskip}{0pt plus 5cm}subroutine, public printtools\+::time2finish (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{namespaceprinttools_abccc581ca4de60e3b372b36441c016f9}


Definition at line 76 of file printtools.\+f90.



References globals\+::end\+\_\+time, core\+\_\+tools\+::find\+\_\+unit(), globals\+::start\+\_\+time, globals\+::terminal, globals\+::time, and globals\+::www.



Referenced by fem\+::terminal\+\_\+info().


\begin{DoxyCode}
76       \textcolor{keywordtype}{use }typy
77       \textcolor{keywordtype}{use }globals
78       \textcolor{keywordtype}{use }core_tools
79 
80       \textcolor{keywordtype}{real(kind=rkind)} :: tmp, tmp1
81       \textcolor{keywordtype}{real} :: konec
82       \textcolor{keywordtype}{integer} :: fileid
83 
84       \textcolor{keyword}{call }cpu\_time(konec)
85       
86       tmp1 = min(100.0,time/end_time*100)
87       
88 
89       tmp = max(0.0,(end_time-time)/(time/(konec-start_time)))
90 
91       \textcolor{keywordflow}{select case} (int(tmp))
92         \textcolor{keywordflow}{case} (0:60)   
93           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp, \textcolor{stringliteral}{" s"}
94         \textcolor{keywordflow}{case} (61:3600)
95           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/6\textcolor{comment}{0, }\textcolor{stringliteral}{" min"}
96         \textcolor{keywordflow}{case} (3601:86400)
97           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/3\textcolor{comment}{600, }\textcolor{stringliteral}{" hrs"}
98         \textcolor{keywordflow}{case} (86401:2592000)
99           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/8\textcolor{comment}{6400, }\textcolor{stringliteral}{" days"}
100         \textcolor{keywordflow}{case} (2592001:31536000) 
101           \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/2\textcolor{comment}{592000, }\textcolor{stringliteral}{" months"}
102 \textcolor{keywordflow}{        case default}
103           \textcolor{keyword}{write}(unit=terminal, fmt=* ) \textcolor{stringliteral}{" #time to finish ="}, tmp/31536000, \textcolor{stringliteral}{" "} \textcolor{comment}{//achar(27)//}\textcolor{stringliteral}{'[91m'}\textcolor{comment}{,  }\textcolor{stringliteral}{"
       YEARS !!!!...:)"}\textcolor{comment}{ &}
104 \textcolor{comment}{                                                //achar(27)//}\textcolor{stringliteral}{'[0m'}                  
105 \textcolor{keywordflow}{      end select}
106       \textcolor{keyword}{write}(unit=terminal, fmt=\textcolor{stringliteral}{"(F10.2, a)"}) tmp1, \textcolor{stringliteral}{"% done"}
107       
108       \textcolor{keywordflow}{if} (www) \textcolor{keywordflow}{then}
109         \textcolor{keyword}{call }find_unit(fileid,1000)
110         \textcolor{keyword}{open}(unit=fileid, file=\textcolor{stringliteral}{"4www/progress"}, status=\textcolor{stringliteral}{"replace"}, action=\textcolor{stringliteral}{"write"}\textcolor{comment}{)}
111 \textcolor{comment}{        }\textcolor{keyword}{write}(unit=fileid, fmt=*) tmp1
112         \textcolor{keywordflow}{select case} (int(tmp))
113           \textcolor{keywordflow}{case} (0:60)   
114             \textcolor{keyword}{write}(unit=fileid, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp, \textcolor{stringliteral}{" s"}
115           \textcolor{keywordflow}{case} (61:3600)
116             \textcolor{keyword}{write}(unit=fileid, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/6\textcolor{comment}{0, }\textcolor{stringliteral}{" min"}
117           \textcolor{keywordflow}{case} (3601:86400)
118             \textcolor{keyword}{write}(unit=fileid, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/3\textcolor{comment}{600, }\textcolor{stringliteral}{" hrs"}
119           \textcolor{keywordflow}{case} (86401:2592000)
120             \textcolor{keyword}{write}(unit=fileid, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/8\textcolor{comment}{6400, }\textcolor{stringliteral}{" days"}
121           \textcolor{keywordflow}{case} (2592001:31536000)       
122             \textcolor{keyword}{write}(unit=fileid, fmt=\textcolor{stringliteral}{"(a, F10.2, a)"}) \textcolor{stringliteral}{" #time to finish ="}, tmp/2\textcolor{comment}{592000, }\textcolor{stringliteral}{" months"}
123 \textcolor{keywordflow}{          case default}
124             \textcolor{keyword}{write}(unit=fileid, fmt=* ) \textcolor{stringliteral}{" #time to finish ="}, tmp/31536000, \textcolor{stringliteral}{" "} \textcolor{comment}{//achar(27)//}\textcolor{stringliteral}{'[91m'}\textcolor{comment}{,  }\textcolor{stringliteral}{"
       YEARS !!!!...:)"}\textcolor{comment}{ &}
125 \textcolor{comment}{                                                  //achar(27)//}\textcolor{stringliteral}{'[0m'}                
126 \textcolor{keywordflow}{        end select}
127         \textcolor{keyword}{close}(fileid)
128 \textcolor{keywordflow}{      end if}
129  
130 
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{namespaceprinttools_abccc581ca4de60e3b372b36441c016f9_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceprinttools_abccc581ca4de60e3b372b36441c016f9_icgraph}
\end{center}
\end{figure}


